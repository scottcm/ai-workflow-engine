# Auto-generated from code-review-guidelines-marked.md
# DO NOT EDIT - changes will be overwritten
# Generated: 2025-12-29T13:32:38Z
# Source hash: 47aacfa59d611c38

general:
  api_design:
    API-CON-001: 'M: Document and validate preconditions - fail fast on violation.'
    API-CON-002: 'M: Document postcondition guarantees - test they hold.'
    API-CON-003: 'M: Document all side effects - prefer pure functions.'
    API-ERR-001: 'M: Document all exceptions/errors an API can produce.'
    API-ERR-002: 'M: Use specific error types - avoid generic errors.'
    API-ERR-003: 'M: Distinguish recoverable from fatal errors.'
    API-INT-001: 'M: Single responsibility per interface.'
    API-INT-002: 'M: Expose only what''s necessary - minimal interface.'
    API-INT-003: 'M: Design for backward compatibility - version breaking changes.'
  concurrency:
    CONC-ASYNC-001: 'M: Support cancellation for long-running operations.'
    CONC-ASYNC-002: 'M: All async operations must have timeouts.'
    CONC-ASYNC-003: 'M: Properly propagate errors from async contexts.'
    CONC-RACE-001: 'C: No check-then-act without synchronization.'
    CONC-RACE-002: 'M: Use thread-safe lazy initialization patterns.'
    CONC-SAFE-001: 'M: Minimize shared mutable state - prefer immutable data.'
    CONC-SAFE-002: 'M: Use high-level synchronization constructs (locks, semaphores, concurrent collections).'
    CONC-SAFE-003: 'M: Document and enforce consistent lock ordering to prevent deadlock.'
    CONC-SAFE-004: 'M: Minimize lock duration - don''t hold locks across I/O.'
  data_handling:
    DATA-INT-001: 'M: ACID compliance for related changes.'
    DATA-INT-002: 'M: Operations idempotent where applicable.'
    DATA-NULL-001: 'M: Document null contracts - use null-safe types/patterns.'
    DATA-NULL-002: 'M: Return empty collections, not null.'
    DATA-NULL-003: 'M: Use Optional types - don''t use null for "not found".'
    DATA-TX-001: 'M: Explicit encoding specification (UTF-8 default).'
    DATA-TX-002: 'M: Version-tolerant serialization - handle unknown fields gracefully.'
    DATA-TX-003: 'M: Validate after deserialization.'
  design:
    DES-DEP-001: 'M: Dependencies flow toward stable abstractions.'
    DES-DEP-002: 'M: No circular dependencies between modules.'
    DES-QUAL-001: 'M: No duplication - extract shared logic (DRY).'
    DES-QUAL-002: 'M: Low cyclomatic complexity - decompose complex functions.'
    DES-QUAL-003: 'm: Intention-revealing names - consistent terminology.'
    DES-SOLID-001: 'M: Single Responsibility - class has one reason to change.'
    DES-SOLID-002: 'M: Open/Closed - extend via abstraction, not modification.'
    DES-SOLID-003: 'M: Liskov Substitution - subtypes substitutable for base types.'
    DES-SOLID-004: 'M: Interface Segregation - no unused method dependencies.'
    DES-SOLID-005: 'M: Dependency Inversion - depend on abstractions, not concretions.'
  error_handling:
    ERR-EX-001: 'M: Catch specific exceptions - avoid bare except/catch(Exception).'
    ERR-EX-002: 'M: Don''t swallow errors silently - log or propagate.'
    ERR-EX-003: 'M: Resource cleanup in finally/context manager/try-with-resources.'
    ERR-EX-004: 'M: Leave system in consistent state on partial failure - rollback changes.'
    ERR-INFO-001: 'M: No internal details in user-facing error messages.'
    ERR-INFO-002: 'M: Full context in logs - stack trace and relevant state.'
    ERR-INFO-003: 'M: Use typed errors or codes for programmatic handling.'
    ERR-MODE-001: 'M: Validate early - fail fast on bad state.'
    ERR-MODE-002: 'M: On unexpected error, default to secure/safe behavior.'
  file_ops:
    FILE-OP-001: 'M: Require explicit flag to overwrite existing files - default to fail if exists.'
    FILE-OP-002: 'C: Never delete paths outside designated directories.'
    FILE-OP-003: 'M: Use OS-provided secure temp file creation with restrictive permissions.'
    FILE-OP-004: 'M: Atomic writes - write to temp file then rename.'
    FILE-PATH-001: 'C: Resolve all paths to absolute canonical form before use.'
    FILE-PATH-002: 'C: Validate resolved path is within allowed directory.'
    FILE-PATH-003: 'C: Reject paths containing null bytes.'
    FILE-PATH-004: 'M: Document symlink policy (follow or reject) and enforce consistently.'
    FILE-PERM-001: 'M: Request minimum permissions needed (least privilege).'
    FILE-PERM-002: 'M: Sensitive files restricted to owner (600/640 permissions).'
    FILE-PERM-003: 'M: Set explicit permissions on file creation - don''t rely on umask.'
    FILE-TOC-001: 'C: No check-then-act on filesystem (if exists then read/write).'
    FILE-TOC-002: 'C: Use atomic operations or handle exceptions instead of pre-checks.'
    FILE-TOC-003: 'C: Use exclusive create flags (O_EXCL) for create-if-not-exists.'
  input_validation:
    VAL-LOC-001: 'M: Validate at system boundaries (entry points).'
    VAL-LOC-002: 'M: Server-side validation is authoritative - client-side is UX only.'
    VAL-PRIN-001: 'M: Validate all input crossing trust boundaries.'
    VAL-PRIN-002: 'M: Prefer allowlist over denylist validation.'
    VAL-PRIN-003: 'M: Validate after decoding/normalization.'
    VAL-SCOPE-001: 'M: Verify expected type.'
    VAL-SCOPE-002: 'M: Check numeric bounds and string length limits.'
    VAL-SCOPE-003: 'M: Validate format for structured data (regex or parser).'
  resources:
    RES-CONN-001: 'M: Use connection pools for databases and HTTP clients.'
    RES-CONN-002: 'M: Configure pool size with documented rationale.'
    RES-CONN-003: 'M: Enable leak detection in development/test environments.'
    RES-LIFE-001: 'M: Release resources in reverse order of acquisition.'
    RES-LIFE-002: 'M: Use language idioms for cleanup guarantee (context managers, try-with-resources, RAII).'
    RES-LIFE-003: 'M: All external operations must have timeouts.'
    RES-MEM-001: 'M: Set maximum sizes for caches, queues, and buffers.'
    RES-MEM-002: 'M: Stream large data - don''t load entirely into memory.'
  security:
    SEC-AC-001: 'C: Check permissions on every request - never rely on hidden URLs.'
    SEC-AC-002: 'C: Validate user has access to requested resource IDs.'
    SEC-AC-003: 'C: Path traversal protection - normalize paths and validate within allowed directory.'
    SEC-AC-004: 'C: Validate role/privilege changes server-side.'
    SEC-AUTH-001: 'C: No plaintext credential storage - use bcrypt/argon2.'
    SEC-AUTH-002: 'C: Session IDs must be cryptographically random and regenerated on privilege change.'
    SEC-AUTH-003: 'C: JWT validation must check signature, issuer, audience, and expiration.'
    SEC-AUTH-004: 'C: No hardcoded secrets - use environment variables or secret management.'
    SEC-CFG-001: 'M: No default credentials in any environment.'
    SEC-CFG-002: 'M: Debug mode disabled in production - no debug endpoints exposed.'
    SEC-CFG-003: 'M: Security headers configured (CSP, X-Frame-Options, X-Content-Type-Options).'
    SEC-DATA-001: 'C: TLS 1.2+ required for data in transit - no fallback to unencrypted.'
    SEC-DATA-002: 'C: Encrypt PII, credentials, and financial data at rest.'
    SEC-DATA-003: 'C: Never log passwords, tokens, PII, or full credit card numbers.'
    SEC-DATA-004: 'C: No stack traces or internal paths in user-facing error messages.'
    SEC-DEP-001: 'M: Automated CVE scanning in CI/CD for dependencies.'
    SEC-DEP-002: 'M: Dependencies pinned with documented update schedule.'
    SEC-DES-001: 'C: Never deserialize untrusted data with native serialization.'
    SEC-DES-002: 'M: Prefer JSON over native serialization formats.'
    SEC-DES-003: 'M: Validate structure after deserialization before processing.'
    SEC-INJ-001: 'C: No string concatenation for SQL - use parameterized queries.'
    SEC-INJ-002: 'C: No shell=True with external input - use subprocess with list args.'
    SEC-INJ-003: 'C: No eval/exec or equivalent with any external input.'
    SEC-INJ-004: 'M: Sanitize user input before logging - no newlines/control chars.'
    SEC-LOG-001: 'M: Log authentication failures, access violations, and validation failures.'
    SEC-LOG-002: 'M: Protect logs from tampering - centralize collection.'
    SEC-XSS-001: 'C: Context-appropriate output encoding (HTML, JS, URL, CSS).'
    SEC-XSS-002: 'C: No innerHTML with user data - use safe DOM APIs.'
    SEC-XSS-003: 'C: Template auto-escaping enabled - explicitly mark safe content.'
    SEC-XXE-001: 'C: Disable XML external entity processing by default.'
    SEC-XXE-002: 'C: Disable DTD processing unless explicitly required and validated.'
  testing:
    TEST-BND-001: 'M: Unit tests mock dependencies at architectural boundaries.'
    TEST-BND-002: 'M: Mock at architectural boundaries, not implementation details.'
    TEST-COV-001: 'M: Test happy path - expected behavior.'
    TEST-COV-002: 'M: Test edge cases - boundaries, empty inputs, max values.'
    TEST-COV-003: 'M: Test error cases - invalid input, resource failures, timeouts.'
    TEST-COV-004: 'M: Test security cases - injection attempts, auth bypass, malformed input.'
    TEST-QUAL-001: 'M: Assert specific outcomes, not just "no exception".'
    TEST-QUAL-002: 'M: Tests independent of execution order.'
    TEST-QUAL-003: 'M: No flaky tests - mock time, random, external systems.'
    TEST-QUAL-004: 'M: Test name describes scenario and expected outcome.'
java:
  concurrency:
    JV-CONC-001: 'M: Prefer java.util.concurrent over low-level synchronization.'
    JV-CONC-002: 'M: Always shut down ExecutorService instances.'
    JV-CONC-003: 'M: Use immutable objects for shared data.'
    JV-CONC-004: 'M: Document thread-safety guarantees.'
  error_handling:
    JV-ERR-001: 'C: No catch(Exception e) except at top-level boundaries.'
    JV-ERR-002: 'C: Never swallow exceptions - log or rethrow.'
    JV-ERR-003: 'M: Preserve exception cause when wrapping.'
    JV-ERR-004: 'M: Use specific exception types - not generic RuntimeException.'
  file_ops:
    JV-FILE-001: 'C: Use NIO.2 (java.nio.file) for file operations.'
    JV-FILE-002: 'C: Normalize and validate paths before use.'
    JV-FILE-003: 'M: Use try-with-resources for all I/O.'
    JV-FILE-004: 'M: Specify charset explicitly - default to UTF-8.'
  modern:
    JV-MOD-001: 'M: Use records for immutable data classes (Java 16+).'
    JV-MOD-002: 'M: Use sealed classes for closed hierarchies (Java 17+).'
    JV-MOD-003: 'M: Use pattern matching for instanceof (Java 16+).'
    JV-MOD-004: 'M: Use var for local variables with obvious types.'
  null_safety:
    JV-NULL-001: 'M: Use @Nullable/@NonNull annotations.'
    JV-NULL-002: 'M: Return Optional<T> for values that may be absent.'
    JV-NULL-003: 'M: Return empty collections, not null.'
    JV-NULL-004: 'M: Validate parameters at method entry.'
  security:
    JV-SEC-001: 'C: No string concatenation for SQL - PreparedStatement only.'
    JV-SEC-002: 'C: No ObjectInputStream for untrusted data.'
    JV-SEC-003: 'C: Disable external entities in XML parsers.'
    JV-SEC-004: 'C: Use SecureRandom for cryptographic randomness.'
  style:
    JV-STY-001: 'M: Follow organization Checkstyle configuration.'
    JV-STY-002: 'M: Use constructor injection - never field injection.'
    JV-STY-003: 'M: Prefer composition over inheritance.'
    JV-STY-004: 'm: Keep methods short - extract when complexity grows.'
  testing:
    JV-TEST-001: 'C: Use JUnit 5 (Jupiter) for new tests.'
    JV-TEST-002: 'C: Use AssertJ for assertions.'
    JV-TEST-003: 'M: Use Mockito for mocking - enable strict stubbing.'
    JV-TEST-004: 'M: Test method names describe scenario and expectation.'
    JV-TEST-005: 'M: Use @Nested for grouping related tests.'
python:
  concurrency:
    PY-CONC-001: 'M: Use threading.Lock for shared mutable state.'
    PY-CONC-002: 'M: Prefer ThreadPoolExecutor/ProcessPoolExecutor over manual threads.'
    PY-CONC-003: 'M: Use asyncio for I/O-bound concurrency where appropriate.'
    PY-CONC-004: 'M: Don''t mix sync and async without proper bridges.'
  error_handling:
    PY-ERR-001: 'C: No bare ''except:'' - catch specific exceptions.'
    PY-ERR-002: 'M: Preserve exception context with ''raise from''.'
    PY-ERR-003: 'M: Use else clause for code that runs only on success.'
    PY-ERR-004: 'M: Use finally for cleanup that must always run.'
  file_ops:
    PY-FILE-001: 'C: Use pathlib.Path, not string concatenation for paths.'
    PY-FILE-002: 'C: Call .resolve() before security checks.'
    PY-FILE-003: 'C: Use .is_relative_to() for traversal check (Python 3.9+).'
    PY-FILE-004: 'M: Always use ''with open()'' pattern.'
    PY-FILE-005: 'M: Always specify encoding=''utf-8''.'
    PY-FILE-006: 'M: Use tempfile module for temporary files.'
  resources:
    PY-RES-001: 'M: Use context managers for all resources.'
    PY-RES-002: 'M: Implement __enter__/__exit__ or use @contextmanager for custom resources.'
  security:
    PY-SEC-001: 'C: No eval()/exec() with untrusted input - approval required for any use.'
    PY-SEC-002: 'C: No pickle/marshal for untrusted data - use JSON.'
    PY-SEC-003: 'C: No subprocess shell=True with user input - use shell=False with list.'
    PY-SEC-004: 'C: Use yaml.safe_load(), not yaml.load().'
    PY-SEC-005: 'M: Use secrets module for cryptographic randomness, not random.'
  style:
    PY-STY-001: 'M: Follow PEP 8 - enforced by ruff or flake8.'
    PY-STY-002: 'M: Use ruff for linting and formatting.'
    PY-STY-003: 'm: Docstrings for public modules, classes, and functions.'
    PY-STY-004: 'm: Use f-strings for string formatting (Python 3.6+).'
  testing:
    PY-TEST-001: 'M: Use pytest as the test framework.'
    PY-TEST-002: 'M: Use fixtures for test setup.'
    PY-TEST-003: 'M: Use pytest.raises for exception testing.'
    PY-TEST-004: 'M: Use unittest.mock for mocking - prefer patch as context manager.'
    PY-TEST-005: 'M: Test file names must start with test_.'
  type_safety:
    PY-TYPE-001: 'M: Type hints required for public function signatures.'
    PY-TYPE-002: 'M: Use Pydantic for external data validation.'
    PY-TYPE-003: 'M: Use Optional[T] or T | None for nullable types.'
    PY-TYPE-004: 'm: Run mypy in CI.'
